(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{45:function(t,e,n){t.exports={List:"ContactList_List__20gyh",enter:"ContactList_enter__1Tfxs",enterActive:"ContactList_enterActive__BPn6N",exit:"ContactList_exit__3MW4R",exitActive:"ContactList_exitActive__ZA3FS",contact:"ContactList_contact__3ZIyH"}},49:function(t,e,n){t.exports={Button:"Button_Button__3R1xi"}},59:function(t,e,n){t.exports={Container:"ContactForm_Container__2jrAg",Input:"ContactForm_Input__HKadG"}},60:function(t,e,n){t.exports={message:"Message_message__kVpdt",enter:"Message_enter__3aW7_",enterActive:"Message_enterActive__3ngpY",exit:"Message_exit__Ynmld",exitActive:"Message_exitActive__10mkF"}},64:function(t,e,n){t.exports={title:"PageHeading_title__1ffyz"}},87:function(t,e,n){t.exports={appear:"HomePage_appear___4y8l",appearActive:"HomePage_appearActive__38yCa",position:"HomePage_position__3J9te"}},88:function(t,e,n){t.exports={enter:"Filter_enter__29y5T",enterActive:"Filter_enterActive__1ekdR",exit:"Filter_exit__2A3T0",exitActive:"Filter_exitActive__1YnI6"}},89:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return ct}));var a=n(4),c=n(47),r=n(48),s=n(62),o=n(61),i=n(0),u=n(64),l=n.n(u);function b(t){var e=t.text;return Object(a.jsx)("h1",{className:l.a.title,children:e})}var m=n(45),j=n.n(m),p=n(49),f=n.n(p),h=n(27),d=n(91),x=n(90),_=n(26),g=n(65),v=n.n(g),O=n(67),C=n(68),N=n.n(C),A=n(11),y=A.a.fetchContactsRequest,S=A.a.fetchContactsSuccess,k=A.a.fetchContactsError,L=A.a.addContactRequest,w=A.a.addContactSuccess,F=A.a.addContactError,M=A.a.deleteContactRequest,I=A.a.deleteContactSuccess,E=A.a.deleteContactError;N.a.defaults.baseURL="http://localhost:4040";var R=function(){return function(){var t=Object(O.a)(v.a.mark((function t(e){var n,a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(y()),t.prev=1,t.next=4,N.a.get("/contacts");case 4:n=t.sent,a=n.data,e(S(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(k(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},P=function(t,e){return function(){var n=Object(O.a)(v.a.mark((function n(a){var c,r,s;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={name:t,number:e},a(L()),n.prev=2,n.next=5,N.a.post("/contacts",c);case 5:r=n.sent,s=r.data,a(w(s)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),a(F(n.t0.message));case 13:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(t){return n.apply(this,arguments)}}()},T=function(t){return function(e){e(M()),N.a.delete("/contacts/".concat(t)).then((function(){return e(I(t))})).catch((function(t){return e(E(t.message))}))}},B=n(16),H=function(t){return t.contacts.filter},D=function(t){return t.contacts.items},q=Object(B.a)([D],(function(t){return t.length})),J={getLoading:function(t){return t.contacts.loading},getFilter:H,getvisibleContacts:Object(B.a)([D,H],(function(t,e){console.log("filter");var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),getTotalContactCount:q,getAllContacts:D},Y=Object(_.b)((function(t){return{contacts:J.getvisibleContacts(t)}}),(function(t){return{onDelete:function(e){return t(T(e))}}}))((function(t){var e=t.contacts,n=t.onDelete;return Object(a.jsx)(h.a,{children:Object(a.jsx)(d.a,{component:"ul",className:j.a.List,children:e.map((function(t){var e=t.id,c=t.name,r=t.number;return Object(a.jsx)(x.a,{classNames:j.a,timeout:250,children:Object(a.jsxs)("li",{className:j.a.contact,children:[Object(a.jsxs)("span",{children:[c,": ",r," "]}),Object(a.jsx)("button",{className:f.a.Button,type:"button",onClick:function(){return n(e)},children:"Delete"})]},e)},e)}))})})})),W=n(7),Z=n(59),z=n.n(Z),G=n(60),K=n.n(G),U=function(t){var e=t.message;return Object(a.jsx)(x.a,{classNames:K.a,in:e,appear:!0,timeout:250,unmountOnExit:!0,children:Object(a.jsx)("div",{className:K.a.message,children:Object(a.jsx)("p",{children:e})})})},V=function(t){Object(s.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))).state={name:"",number:"",message:null},t.errorMessage=function(e){t.setState({message:e}),setTimeout((function(){t.setState({message:null})}),2500)},t.handleInputChange=function(e){var n=e.currentTarget,a=n.name,c=n.value;t.setState(Object(W.a)({},a,c))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,a=n.name,c=n.number,r=t.props,s=r.onSubmit,o=r.contacts;""!==a.trim()?""!==c.trim()?o.find((function(t){return t.name.toLowerCase()===a.toLowerCase()}))?t.errorMessage("\u041a\u043e\u043d\u0442\u0430\u043a\u0442 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"):(s(a,c),t.setState({name:"",number:""})):t.errorMessage("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430"):t.errorMessage("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430")},t}return Object(r.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,c=t.message;return Object(a.jsxs)(h.a,{children:[Object(a.jsx)(U,{message:c}),Object(a.jsxs)("form",{className:z.a.Form,onSubmit:this.handleSubmit,children:[Object(a.jsxs)("label",{className:j.a.contact,children:["Name ",Object(a.jsx)("br",{})," ",Object(a.jsx)("input",{className:z.a.Input,type:"text",name:"name",value:e,placeholder:"Name Surname",onChange:this.handleInputChange})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{className:j.a.contact,children:["Number ",Object(a.jsx)("br",{})," ",Object(a.jsx)("input",{className:z.a.Input,type:"tel",name:"number",value:n,placeholder:"+38 ( 000 ) 000 - 00 - 00",onChange:this.handleInputChange})]}),Object(a.jsx)("br",{}),Object(a.jsx)("button",{className:f.a.Button,type:"submit",children:"Add contact"})]})]})}}]),n}(i.Component),Q=Object(_.b)((function(t){return{contacts:J.getAllContacts(t)}}),(function(t){return{onSubmit:function(e,n){return t(P(e,n))}}}))(V),X=n(87),$=n.n(X),tt=Object(_.b)((function(t){return{value:J.getFilter(t)}}),(function(t){return{onChange:function(e){return t(A.a.changeFilter(e.target.value))}}}))((function(t){var e=t.value,n=t.onChange;return Object(a.jsx)(h.a,{children:Object(a.jsxs)("label",{className:j.a.contact,children:["Find contacts by name ",Object(a.jsx)("br",{}),Object(a.jsx)("input",{className:z.a.Input,value:e,type:"text",placeholder:"Name or Surname",onChange:n})]})})})),et=n(88),nt=n.n(et),at=function(t){Object(s.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))).state={error:!1,message:""},t.handleSubmit=function(){t.setState({error:!0})},t.resetError=function(){t.setState({error:!1})},t}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){var t=this,e=this.state.message,n=this.props.contacts;return Object(a.jsxs)("div",{children:[Object(a.jsx)(x.a,{classNames:$.a,in:!0,appear:!0,timeout:500,unmountOnExit:!0,children:Object(a.jsx)(b,{text:"Phonebook"})}),Object(a.jsx)(Q,{onSubmitContact:function(){t.handleSubmit(e)},onResetError:function(){t.resetError()}}),Object(a.jsx)("h2",{className:j.a.contact,children:"Contacts"}),Object(a.jsx)(x.a,{classNames:nt.a,in:n>1,timeout:250,unmountOnExit:!0,children:Object(a.jsx)(tt,{})}),this.props.isloadingContacts&&Object(a.jsx)("h1",{children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c..."}),Object(a.jsx)(Y,{})]})}}]),n}(i.Component);at.defaultProps={};var ct=Object(_.b)((function(t){return{contacts:J.getTotalContactCount(t),isloadingContacts:J.getLoading(t)}}),(function(t){return{fetchContacts:function(){return t(R())}}}))(at)}}]);
//# sourceMappingURL=home-view.d587e96d.chunk.js.map